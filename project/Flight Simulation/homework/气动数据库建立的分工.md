# 气动数据库建立的分工

[toc]

## 0、概述

大致分为如下三个工作部分：

- 曲线图的读入
- 曲线的多项式拟合
- 与Sqlite3的连接与读写

经过我对第一个问题的初步思考和分析，觉得第一问还是比较复杂的。相对来说第二个问题比较简单，网上应该也有源码；第三个问题则是纯粹地学习一个软件，也比较简单。所以我设想是一个人负责第二块，一个人负责第三块，剩下三个人处理第一块；或者匀一个人给第二块或第三块，从而完成我们所有任务。

## 1、曲线图的读入

这个问题最为复杂，它的input和output大概如下：

input： 一张图+人工读取的这张图里的一些信息

output：这张图里某一条曲线，所对应的一连串x,y值

我已经写了个demo放在github上[这是链接]([learning/project/Flight Simulation/homework/demo at main · bcynuaa/learning (github.com)](https://github.com/bcynuaa/learning/tree/main/project/Flight Simulation/homework/demo))。大概已经初步地完成了读取了$x+\frac{x^2}{2}$这样的一个曲线图的demo。但我觉得还有许多难题没有解决，比如：

- 图像曲线和坐标轴像素点无法区分怎么办？
- 能否自动识别对应的点，而不是人工去把像素点和坐标点对应起来？
- 多族曲线如果耦合较多，如何识别并加以区分？
- 有无其他更好的方式读取图像？或者不依赖于Opencv？

总之第一项任务最为艰巨，兄弟们量力看了一下。

## 2、多项式拟合

这个个问题比较明晰，是一个数学问题，应该不会太复杂。理论上scipy里可能有源码，但我希望自己手动实现一下。

input：一行x，及其对应的一行y，以及对应的拟合项数N

output：给出输入对应的，$y=a_0+a_1 x+a_2 x^2+a_3 x^3+\dots a_N x^N$的最佳拟合结果，返回$[a_0,a_1,a_2\dots，a_N]$的值。

如果没能力自己完成，调用Scipy就行。如果有可能，是否可以提升一下，比如：

- 拓展到任意函数形式的非线性拟合？（Nonlinear Fitted Model）
- 给出残差及拟合结果？
- 封装成一个函数拟合的求解器class类型？

## 3、与Sqlite3的连接与读写

这其实是在学习数据库的知识，相对简单。所需要做的是：

input 1：当python运行完图片读入后，得到暂存在内存中的数据

output 1：与Sqlite3连接后，写入数据库

input 2 ：数据库连接后，数据库里的数据

output 2：用python读取数据库里的数据，赋给numpy类型的数组

但也有一些问题:

- 如何保证这个过程在任何电脑上都能运行？（即环境适配）
- Sqlite3与python的连接是怎么做到的？写一份文档让组员们能读懂
- 帮剩下的组员配置环境，并测试是否都能连接成功？

## 4、总体流程

总体的流程大概如下：

1. 导入图片，读取离散气动数据点保存在python变量numpy数组内
2. 连接数据库并把气动数据写入Sqlite3中，分门别类放好
3. 通过插值的方法，或者非线性拟合的方法，再**输入值不是已知数据点的情况下**，用拟合、插值的方式输出该输入对应的输出值，并封装成函数提供给别的小组

另外我希望提一个要求，上述过程尽量封装成class，或者用模块封装，为了防止我们的变量命名影响到后续别的组工作中的函数命名。尽量采用面向对象，而不要面向过程。